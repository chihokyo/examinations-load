## AWS Certified Cloud Practitioner

貌似合格了。

等证书看看吧。

## 备考背景

公司的项目在推进云化的进程，采用了AWS，虽然国内大部分都是阿里云腾讯云等等，但是国外的主流还是AWS这样的服务。而且AWS也是世界市场占有率No.1。云从业者是最基础的AWS资格证书。

## 备考弹药库

- **书** 根据日本的这本书来备考的　亚马逊云从业者书籍里评价最高的 ![](https://raw.githubusercontent.com/chihokyo/image_host/master/20200215144658.png)
  
- **网站** 网站主要是国内AWS的网站（目的看翻译）

## 笔记开始

因为几乎都是**<span style="color:red">面向自己看</span>**的，所以排版和行文略有通俗或者脱线碎碎念的地方。而且是根据书的章节进行的读书，没有书有时候也不知道我说的是什么吧。

## 第1章 无视掉

~~第1章 可以无视掉 主要说的都是资格证概况~~

## 第2章 AWS Cloud概念

### 2-1 什么是云

记住一对概念就行。
-   **オンプレミス** on-premises 自有服务（有实体的，本地的）
-   **クラウド** cloud 云上的 
    反正就是相对概念。以后我就简称云上，云下。

### 2-2 AWS特性与优点

#### ■ 6个优点

> -   固定费到变动费
> -   自动伸缩节省开支
> -   无需预测容量
> -   提高速度和敏捷性
> -   无需运行维护数据中心
> -   几分钟内全世界部署

记住一个单词 TCO 既存システムの総所有コスト　**Total Cost of Ownership**

### 2-3 云架构设计原理

#### ■ Design for Failure

这个貌似就是说，AWS就是以早晚都会故障这一个前提进行了系统设计。

> 単一障害点（たんいつしょうがいてん。英: single point of failure、SPOF）
> 指系统中一点失效，就会让整个系统无法运作的部件，换句话说，单点故障即会整体故障。

#### ■ 组件架构

这句话怎么说呢。就是系统不会只有一个数据中心。系统不会只有一个实例。
> **loose coupling** 疎結合 松散耦合
> 在一个系统或网络中使各组件互相连接的方法，因此这些组件，也称为元素，在最小的可行范围内彼此依赖。耦合指的是一个元素对另一元素的直接了解程度。
学习一个用于
> SOAとは、企業の業務システムなどの設計様式の一つで、システム全体を利用者側から見たソフトウェアの機能単位である「サービス」（service）の組み合わせによって構築すること。**Service Oriented Architecture** サービス指向アーキテクチャ
>
> 面向服务的架构（*SOA*）是一个组件模型，它将应用程序的不同功能单元（称为服务）进行拆分，并通过这些服务之间定义良好的接口和协议联系起来。

还有微服务。
**Queuing Chain** 队列链 キューイングチェーン
总结一下要点就是

1.  系统使用的松散耦合结构    
2.  使用微服务架构   
3.  使用 队列链 实现松散耦合和非同期   

#### ■ 弹性开发

三种方法实现了
**定期伸缩**
**事件伸缩**
**按需自动伸缩**
感觉就是使用了一些服务实现了自动伸缩，避免资源的浪费。

#### ■ 并发

就是使用了ELB这服务，实现了scale up 提升性能 scale out 增加
服务器扩展性 out也叫横向扩展，就是增多。up也叫纵向发展。就是增强。

> Scale Out 按字面意思是超过尺寸范围，而Scale Up 则是按比例增高。 Scale Up 靠增加处理器来提升运算能力，Scale Out 增加独立服务器来增加运算能力

#### ■ 动态资源靠近计算机，静态资源靠近用户

这个不用解释了，需要大量数据处理的动态资源就是靠近服务器计算机进行处理。
静态资源就是靠近使用的用户能够快速响应。

### 2-4 AWS Well-Architected 框架

> 1.  运维上的优秀，无间断见识，能够提供不间断的服务。
> 2.  安全。利用风险评估增加安全性
> 3.  信赖性。 就是不会出现任何服务器的问题
> 4.  提高自己的能力。根据时代发展一直提高自己的能力。
> 5.  节省开支。帮你优化帮你省钱。

这上面的特点下面几个章节都会具体阐述

#### 练习题

D B A C B 第一题错了，原因。用户可以对数据区域进行完全的控制和持有。

## 第3章 AWS的安全

考试占比24% 还是很重要的

### 3-1 AWS责任共担模式

主要就是哪个责任是用户的，哪个是AWS的。
比如基础设施等硬件是由AWS提供的。而系统内部的数据加密，网络流量保护等等是由用户自己承担。
1. 云本身的安全 比如说三大区域范围的数据中心的安全，托管的软件服务等等。  
2. 云内部的安全 比如 系统内部的管理，容量的安全batch。    
3. 用户可以通过AWS提供的安全服务来自己管理安全方便的问题。

### 3-2 AWS 云上安全

> 1. 保护数据    
> 2. 合规性    
> 3. 削减成本    
> 4. 自由伸缩 根据云的使用量来定制自己的安全服务。但无论企业规模大小，AWS基础服务都能保护用户的数据安全。   

#### ■ AWS责任范围

##### ■ -1 物理安全

1. 完全隔离的地理位置可以实现物理上安全   
2. 物理上的隔离安全
主要是有各种监视，保安，等等安全措施。
3. 基础设置
冷却数据，空调，消防设施等。
4. 数据安全

通过对数据权限的设置来保护数据安全

##### ■ -2 hypervisor安全（虚拟主机安全）

> コンピュータ用語における、**ハイパーバイザ (hypervisor)** とは、コンピュータの仮想化技術のひとつである仮想機械（バーチャルマシン）を実現するための、制御プログラムである。仮想化モニタや仮想化OSと呼ばれることもある。
> Hypervisor，又称**虚拟机监视器**（英语：virtual machine monitor，缩写为 VMM），是用来建立与执行虚拟机器的软件、固件或硬件。
> 被Hypervisor用来执行一个或多个虚拟机器的电脑称为主体机器（host machine），这些虚拟机器则称为客体机器（guest machine）。hypervisor提供虚拟的作业平台来执行客体操作系统（guest operating systems），负责管理其他客体操作系统的执行阶段；这些客体操作系统，共同分享虚拟化后的硬件资源。

这个安全由AWS来担当。使用AWS就无法从一个实例获取另一个实例，所以这个方面的安全措施就由**AWS来做做做**！！！

##### 管理平面

**management plane** 管理プレーン 管理平面
In the management plane, configuration management and fault management are implemented.
管理平面完成配置管理和故障管理，包括网元管理以及软永久连接的触发等。

ID和PW管理
↑用户进行管理。发生问题后果自负。AWS有MFA认证，Root这样的特权用户请用MFA。
Root用户
AWS注册的时候的用户就是Root用户。具有超级权限。**所以日常操作千万不要使用！**
给予基本用户最基本的权限。一个用户可以有多个权限。
KEY密钥对管理
密钥可以登录EC2。秘key的管理由用户自理。不鼓励大家共用密钥对。请一个个制作。
API管理
API也是用户负责。
非托管型服务的安全性
托管型服务的安全性

#### ■ 最佳实践

#### ■ 第三方验证

### 3-3 IAM

AWS Identity and Access Management (IAM)
使用 IAM 创建和管理 **AWS 用户和组**，并使用各种权限来允许或拒绝他们对 AWS 资源的访问。
IAM 是 AWS 账户提供的一项功能，因此您无需支付额外费用。只需为您的用户所用的其他 AWS 服务付费。
IAM用户可以设定权限，还有授予API key，一个user最多2个API key。
IAM最初设定的user和group都没有权限。需要设定相应的最低权限。
拒绝优先，

#### ■ IAM Role
现在不推崇API key来访问。于是就有了这个Role。Role可以用来授权EC2和Lambda这样的AWS资源。优点就是可以在AWS内部直接绑定EC2和Role，无需管理key。
> - 每个user和group只能授予必要的最低权限
> - 当于IAM policy规则想违反的时候，默认拒绝。
> - 一个user最多2个API key

### 3-4 安全组

安全组是对于实例的。
安全组 起着**虚拟防火墙**的作用，可控制**一个或多个**实例的流量。在您启动实例时，可指定一个或多个安全组；否则，我们将使用**默认安全组**。您可以为每个安全组添加规则，规定流入或流出其关联实例的流量。您可以随时修改安全组的规则；新规则会自动应用于与该安全组关联的所有实例。在决定是否允许流量到达实例时，我们会评估与实例关联的所有安全组中的所有规则。

- 默认情况下，安全组允许所有出站流量。不允许所有进站流量。
- 安全组规则始终是宽松的；您无法创建拒绝访问的规则。5-1和7-1有更详细的解说。

### 3-5 AWS Shield和AWS WAF

#### ■ AWS Shield

> - AWS Shield 是一种**托管式分布式拒绝服务 (DDoS) **防护服务，可以保护在 AWS 上运行的应用程序。
> - AWS Shield 提供持续检测和自动内联缓解功能，能够尽可能缩短应用程序的停机时间和延迟，因此您不需要联系 AWS Support 来获得 DDoS 防护。
> - AWS Shield 有两个层级，分别为 **Standard **和 **Advanced**。
> - 所有 AWS 客户都可以使用 AWS Shield Standard 的自动防护功能，**不需要额外支付费用。**
> - 客户可在全球所有 Amazon **CloudFront**、AWS Global Accelerator 和 Amazon **Route 53** 边缘站点使用 AWS Shield Advanced。
> - 如果选择了Advanced这个级别，那么WAF也是可以**免费**使用的。而且还增加了可视化和DDos Response Team

#### ■ AWS WAF

参考链接

[https://aws.amazon.com/cn/waf/](https://aws.amazon.com/cn/waf/)

> AWS WAF 是一种 Web 应用程序防火墙，可帮助保护您的 Web 应用程序或 API 免遭常见 Web 漏洞的攻击，这些漏洞可能会影响可用性、损害安全性或消耗过多的资源。AWS WAF 允许您创建防范常见攻击模式（例如 SQL 注入或跨站点脚本）的安全规则，以及滤除您定义的特定流量模式的规则，从而让您可以控制流量到达您的应用程序的方式。
>
> 您可以通过适用于** AWS WAF 的托管规则快速**入门，这是由 AWS 或 AWS Marketplace **卖家托管**的一套预配置规则。适用于** WAF 的托管规则**可以解决 OWASP 十大安全风险等问题。这些规则会随新问题的出现定期更新。AWS WAF 包含功能全面的 API，借此您可以让安全规则的创建、部署和维护实现自动化。
>
> 使用 AWS WAF，您只需按使用量付费。定价基于您部署的规则数量和您的应用程序收到的 Web 请求数量。无需预先承诺。
>
> 您可以将 AWS WAF 作为 CDN 解决方案的一部分部署到 Amazon CloudFront 上，也可以将其部署到位于 Web 服务器或来源服务器（运行于 EC2 上）之前的 Application Load Balancer 上，或者是适用于您的 API 的 Amazon API Gateway 上。

本身费用是不要钱的，但是初始并没有WAF的定义，需要用户进行自定义。
如果使用了这个服务，那么就是要钱的。
收费标准如下。
- 通过Web ACL
- 每个Web ACL追加的规则进行收费
- 通过接收的Web Request收费

#### 适用范围

AWS CloudFont
ELB
API Gateway

### 3-6 Inspector

参考链接

[https://aws.amazon.com/cn/inspector/](https://aws.amazon.com/cn/inspector/)

自动安全评估服务有助于提高在 AWS 上部署的应用程序的安全性与合规性
Amazon Inspector 是一项自动安全评估服务，有助于提高在 AWS 上部署的**应用程序的安全性与合规性**。Amazon Inspector 会自动评估应用程序的风险、漏洞或者相较于最佳实践的偏差。执行评估后，**Amazon Inspector 会生成按严重程度确定优先级的安全检测详细列表。这些评估结果可直接接受审核**，也可作为通过 Amazon Inspector 控制台或 API 提供的详细评估报告的一部分接受审核。
主要其实就是审核在EC2上部署的APP安全性和合规性，然后自动诊断脆弱性。
AWS自动更新最新的rule package

> 一般脆弱性和泄露
> 网络最佳实践
> 认证最佳实践
> os安全最佳实践
> app应用最佳实践
> PCI DSS 3.0

## 第4章 AWS的技术

### 4-1 AWS的服务

#### ■ 服务分类
这个感觉没意思，就介绍了下AWS有超过100种的服务。
#### ■ 服务使用方式
三种。就下面我写的那三种。使用方式。
### 4-2 全球性的基础设施
#### ■ 区域 Regions
世界上有20多个区域，每个区域不得少于**2个可用区。**
区域你可以理解成国家，可用区可以理解成国家内一个放在一个城市的多个数据中心。
选择条件
-   你的数据和系统是否满足企业合规性要求   
-   跟目标用户的地理位置是  
-   这个区域内是否有你想要的服务，比如China有些服务就不能用。
-   成本上省钱嘛。毕竟每个区域收费不同。  
每个区域的服务还有收费都不一样。

#### ■ 可用区 Availability Zones AZ

一个区域内至少2个可用区，可用区由很多数据中心来组成。
为什么要2个以上，因为为了防止单点故障。一个挂掉了，另一个因为是物理完全不同的就可以直接顶上，增强冗余性，然后提供服务。同一个区域内的可用区是通过**光缆来高速化连接！**
#### ■ 数据中心 Data Center

AZ由多个数据中心构成。外表是看不出这是一个数据中心，内部有警员，摄像头监控，防护罩。MFA等多重硬件物理性保护。除此之外，还有第三方监察，合规性检查等等各种软件上的保护。

#### ■ 边缘节点 Edge Location

全世界有150个地区都有。即使没有区域的国家也有的城市有EL。
低延迟的DNS实现＋ 低延迟的内容分发CDN＋DDoS（分散サービス妨害）

**Amazon Route 53**＋**Amazon CloudFont**＋**AWS Shield Standard（Advanced）**

### 练习题

A AD D A C B ABD
**C** AD D A C B ABD 就1题，粗心错了。就酱紫吧。
记住，AZ用的是Privete高速光缆通信。区域使用公和私通信。
## 第5章 应用服务

> 貌似这一章节内容特别多。也是最重要的。需要很长时间来阅读。
> 这一张主要说明了AWS主要的服务，有EC2，ELB，Auto Sacling，Lambda。
> 也是考试上占比最重的一章节。

### 5-1 EC2

**EC2** = **A**mazon **E**lastic **C**ompute **C**loud
■ 主要特性
> - 有弹性
> - 可用性 
> - 利用AMI可以同时启动多个服务器
> - 想用就用 不用就关 足够灵活
> - 安全性能好
> - 计费灵活
> - 可以用管理者身份管理操作系统

#### ■ 主要计费

- **EC2本身运行的费用** 
- **数据传输费用**  着重说一下，只在区域外进行传输才计费，从网上到EC2不收费。只有通过EC2传输到外区域才收费
- **储存空间费用** 其实这个容量是EBS Elastic Block Store的容量计费

provision プロビジョニング 服务开通 简单来说，就是维护和预置,或者称之为设置的过程。 貌似在这里就是挂载的意思 这个的意思要再看
用多少收费多少，虽然启动了15个实例，但如果最后只用了2个，就只收费那2个的。
时间单位用的是秒。只在**对外区域**传输才收费

#### ■ 如何选择实例性能

随时可以进行更换组合。无需预测，随时可以更换。
比如 **t2.micro**  t：表示用途 2：表示世代 3：表示大小
确定之后可以随意更换，所以无需预测，节省预估时间。

#### ■ 分分钟可以启动服务器

- 确定区域
- 选择AMI镜像 **Amazon Machine Image**
- 选择实例
- 选择网络
- 选择容量

启动！！！
■ 可在全世界范围内选择部署
这个不用说了
■ 1个AMI可以同时进行相同的部署
分为4类

> - 快速启动AMI
> - 我的自定义AMI
> - AWS Marketplace
> - 社区AMI

■ 安全组进行安全管理
感觉其实就是写了一个安全组，可以适用于所有的实例，不需要一个个在进行设置。
traffic 　**トラフィック** 流量
■ 操作系统管理员管理
其实就是使用安全的公开键进行管理。公开在AWS，用户拿着密钥。
其实就是ssh那一套登陆方式。
■ 为用户而生的计费模式

主要有这几个

> - **按需实例**（On-Demand Instances ） 按秒为启动的实例付费。
> - **预留实例** （Reserved Instances）以大幅折扣购买一年期到三年期的始终可用的实例。
> - **计划实例** （Scheduled Instances）以一年为期限购买按指定重复计划始终可用的实例。
> - **Spot 实例** （Spot Instances）请求未使用的 EC2 实例，这可能会显著降低您的 Amazon EC2 成本。**这个本质就是一次性实例，2分钟之前会提醒你，因为是不稳定的**
> - **专用主机** （Dedicated Hosts）为完全专用于运行您的实例的物理主机付费，让您现有的按插槽、按内核或按 VM 计费的软件许可证降低成本。
> - **专用实例** （Dedicated Instances）为在单一租户硬件上运行的实例按小时付费。
> - **容量预留** （Capacity Reservations）可在特定可用区中为 EC2 实例预留容量，持续时间不限。

最后就说了一下如何启动一个EC2
要点就是填写几个就能同时启动多少个实例，然后容量选择，安全key等等。

**AMI无法进行跨区共享，如果需要跨区，请提前复制，然后制定其他ID然后启动。**

### 5-2 ELB

ELB Elastic Load Balancing 负载均衡器

[https://aws.amazon.com/cn/elasticloadbalancing/?nc2=h_ql_prod_nt_elb](https://aws.amazon.com/cn/elasticloadbalancing/?nc2=h_ql_prod_nt_elb)

中文参考链接 ↑

> Elastic Load Balancing 跨多个可用区中的多个目标（如 Amazon EC2 实例、容器和 IP 地址）分发传入应用程序或网络流量。Elastic Load Balancing 会在应用程序的传入流量随时间的推移发生更改时扩展负载均衡器，并可自动扩展以处理大部分工作负载。
> 负载均衡器优势 负载均衡器跨多个计算资源 (如虚拟服务器) 分布工作负载。使用负载均衡器可提高您的应用程序的可用性和容错性。
搞了半天，其实就是很像**nginx**
是为了提高可用性，高度可用，安全，灵活应变，监控审核。

■ 种类
> - Application Load Balancer（7层应用程序负载均衡器）
> - Network Load Balancer （4层网络负载均衡器）
> - Classic Load Balancer（传统负载均衡器）#这个使用很少了

■ 自我check
用 `ping`进行check

如果一个可用区内的所有目标均不正常，Elastic Load Balancing 将把流量路由至另一个可用区内的正常目标。当目标恢复正常状态后，负载均衡将自动恢复至原目标。
然后
您可以配置运行状况检查，这些检查可用来监控计算资源的运行状况，以便负载均衡器只能将请求发送到正常运行的目标。此外，您可以将加密和解密的工作交给负载均衡器完成，以使您的计算资源能够专注于完成主要工作。
书里给的例子就是http一个网页，然后测试了5次都是200，这样就可以断定是ok的。
■ 面向内外网

看一下官网的描述

> Elastic Load Balancing 使用户能够在 VPC 中轻松创建面向 Internet 的入口点，或在 VPC 内应用程序的各层之间路由请求流量。您可以向负载均衡器分配安全组，以控制向一系列授权来源开放哪些端口。由于 Elastic Load Balancing 与 VPC 集成在一起，所有现有的网络访问控制列表 (ACL) 和路由表均将继续提供额外的网络控制功能。
>
> 当您在 VPC 中创建负载均衡器时，可以指定该负载均衡器是**面向 Internet（默认）**还是**面向内部**。如果选择面向内部，则无需使用 Internet 网关来连接负载均衡器，并且在负载均衡器的 DNS 记录中将使用负载均衡器的私有 IP 地址。

■ 高度可用

> Elastic Load Balancing 在多个可用区内的多个目标（Amazon EC2 实例、容器、IP 地址和 Lambda 函数）之间自动分配传入的流量，并确保只有正常目标会收到流量。
>
> Elastic Load Balancing 还可以将流量路由至不同可用区内的正常目标，从而在一个区域内实现负载均衡。Amazon Elastic Load Balancing 服务等级协议的承诺是为负载均衡器提供 **99.99%** 的可用性。

书上给了一个名词。Single Point Of Failure SPOF 
**单点故障**
参考网页
[https://baike.baidu.com/item/%E5%8D%95%E7%82%B9%E6%95%85%E9%9A%9C](https://baike.baidu.com/item/%E5%8D%95%E7%82%B9%E6%95%85%E9%9A%9C)

> 单点故障（英语：single point of failure，缩写SPOF）是指系统中一点失效，就会让整个系统无法运作的部件，换句话说，单点故障即会整体故障。
> **高可用性**（英语：high availability，缩写为 HA），[IT](https://baike.baidu.com/item/IT)术语，指系统无中断地执行其功能的能力，代表系统的[可用性](https://baike.baidu.com/item/%E5%8F%AF%E7%94%A8%E6%80%A7)程度。是进行系统设计时的准则之一。高可用性系统与构成该系统的各个组件相比可以更长时间运行。
系统不会故障，因为可用区域内部也会进行负载均衡，不会失败。
■ 混合负载均衡 (クロスゾーン負荷分散)
不仅仅是结点上存在的可用区域，其他可用区域也会参与负载。

> Elastic Load Balancing 让您能够使用同一负载均衡器在 **AWS 资源和本地资源**之间进行负载均衡。这让您能够轻松将本地应用程序迁移、突增或故障转移至云端。

### 5-3 Auto Scaling

[https://aws.amazon.com/cn/ec2/autoscaling/?nc2=h_ql_prod_cp_ec2auto](https://aws.amazon.com/cn/ec2/autoscaling/?nc2=h_ql_prod_cp_ec2auto)

中文官方 ↑

> 使用 Amazon EC2 Auto Scaling，您可以维持应用程序的可用性，并且根据您定义的条件**自动添加或删除 EC2 **实例。
>
> 您可以使用 EC2 Auto Scaling 的**队列管理**功能维护队列的运行状况和可用性。
>
> 您还可以使用 EC2 Auto Scaling 的**动态和预测扩展功能添加或删除 EC2** 实例。动态扩展响应不断变化的需求，预测扩展会根据预测的需求自动安排正确数量的 EC2 实例。动态扩展和预测扩展可结合使用，以实现更快的扩展。

■ 概要
说了很多就是随时随地弹性帮你控制所有的EC2
改进容错能力 **耐障害性**　检测到有问题的给你换一个能用的新实例
提高应用程序可用性　**高可用性** 确保应用程序始终具备合适的计算容量
降低成本　**コスト効率化** 适时增加删除实例，帮你省钱。
**■ 水平和垂直**
垂直 提高性能 变大，对系统有影响
水平 增加数量 变多 对系统无影响 但需要设计
水平更能帮你把队列给管理好。
**■ 设定**
解决了3大问题
- 启动什么 和ec2基本一致
- 启动哪个EC2 设置需要的区域，还有组，还有最大最小的个数，通知啥的
- 什么时候开始结束
开始结束需要有这几个设置
设置目标组 ターゲットポリシー
简单组 貌似是冷开启，主要是用于这个scaling连续频繁发生的
步骤组 貌似是热开启 可以预防scaling连续频繁发生，只要不达到那个数字就不开启。
也可以设定时间进行启动。

**■ 自动化部署的功能**
貌似说了一个可以用这个进行自动化部署的功能。既可以用user的data，还可以获取到meta信息。**说实话没看懂？**
**■ 使用ELB AS来运行一个web应用。**
- 首先用LB来启动多个EC2，然后入口选择用ALB
- 进行了很多设置 此处忽略
学会了一个让Linux压力测试

参考 [https://techblog.ap-com.co.jp/entry/linux-cpu](https://techblog.ap-com.co.jp/entry/linux-cpu)

```bash
$ yes > /dev/null # start 
$ yes > /dev/null & # more

$ ps aux | grep yes | grep -v grep # check
$ killall yes # kill all
```
感觉这一小节说了这么多，其实就是利用了这个ELB和AS来进行压力，然后用这个CloudWatch进行观测提醒。我没有实战，但感觉实战也很重要。

### 5-4 Lambda

> 通过 AWS Lambda，无需预置或管理服务器即可运行代码。您只需按使用的计算时间付费。

**■　特点优点**

- サーバー構築不要
- サーバー管理不要
- 一般的な言語のサポート
- 並列処理・スケーリング
- ミリ秒単位で無駄のない課金
- 柔軟なリソース設定
- 他のAWSサービスとの連携

无需管理服务器，此秒级计算，高性能，持续扩展，联动其他服务。
数据处理，用S3出发可以进行数据管理。
个人感觉就像一个胶水，通过各种函数来进行粘合各种服务。无服务器。
不要构建服务器，需要运行什么代码，直接选择编译器就可以进行运行。
不需要管理服务器。所以什么容量啦，版本大小了，什么可用性冗余啊无需考虑。
总结一句就是，**你只需要注重开发，不需要运维。**

**■ 可以根据request水平的进行并行计算 並列処理 parallel computing 並列化**

写一个注意

参考[http://e-words.jp/w/%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0.html](http://e-words.jp/w/%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0.html)

表示伸缩。
自动处理，无需Auto Scaling进行设置

**■ 柔軟なリソース設定**
就可以可以设置内存大小，还有运行时间。
**■ ミリ秒単位で無駄のない課金**
运行时间多久就收你多久的钱，不运行就不会收费。如果每个月有400000GB/s 免费的额度。并且还有100Wrequest的免费额度。

**■ 他のAWSサービスとの連携**

可以和很多AWS服务进行连接。
包括了 CloudWatch Events，上传数据到S3的时候，写入数据到DynamicDB，呼出API，点击网页，使用AS。反正什么都可以联动。而且如果你使用了一个小车子可以把所有服务用SDK进行连接起来然后构建一个服务。

### 5-5 其他服务

- ECS 
- Lightsail
- Batch

然后都是总结性的。

### 第5章練習問題

1 C 2 ABC 3 A 4 D 5 ABCD 6 A 7 BCE 8 B

1 C 2 **ABD** 3 **B** 4 D 5 **ABCE** 6 A 7 BCE 8 B

AMI无法进行跨区域，如果需要跨区，复制之后才能使用。
关于计费问题，跨区传送数据不会收费，但是如果通过网络的话收费就不一样了。
如果同一个区域内多个账户进行传送也不会收费。所以D一定是错的。
严密的来说EBS是收费的，但这也不属于EC2的收费。
AS本身不收费。

## 第6章 存储服务

此处应该有一张图片

### 6-1 EBS

[https://aws.amazon.com/cn/ebs/?nc2=h_mo](https://aws.amazon.com/cn/ebs/?nc2=h_mo)

> Amazon Elastic Block Store (EBS) 是一种易于使用的高性能数据块存储服务，旨在与 Amazon Elastic Compute Cloud (EC2) 一起使用，适用于任何规模的吞吐量和事务密集型工作负载。Amazon EBS 上部署着广泛的工作负载，例如关系数据库和非关系数据库、企业应用程序、容器化应用程序、大数据分析引擎、文件系统和媒体工作流。

写了那么多，本质就是一块硬盘。
■ 和EC2一样 用多少取多少 高效负载
■ 在可用区内**自动**进行多个服务器间的**レプリケート**　 replication 复制
■ 可以更改容量和类型（**服务开始后**也能更改容量类型

> EBS 提供四种不同的卷类型，价位和性能水平各不相同，让您能够优化成本并购买最符合您的应用程序需求的存储。选择范围从每 GB 高性价比的卷到专为任务关键型工作负载而设计、具有高 IOPS 和高吞吐量的高性能卷。使用 EBS 快照的备份是增量式备份，通过不复制数据来节省存储成本。

- 通用的SSD
- IOPS SSD
- 高性能HDD
- Cold HDD

**■ 高性能快照服务**

> 您可以通过拍摄时间点快照将** Amazon EBS 卷上的数据备份到 Amazon S3**。快照属于增量 备份，这意味着仅保存设备上在最新快照之后更改的数据块。由于无需复制数据，这将最大限度缩短创建快照所需的时间和增加存储成本节省
重点就是快照保存到了S3上面，然后S3上面自己通过多个可用区域进行冗长化，然后实现11个9的耐久性。

**■ 加密服务**

如果卷进行了加密，那么快照也给你加密

> EBS 可确保数据合规性。您可以使用账户中的单个设置，默认对新创建的 EBS 卷进行加密。EBS 卷支持静态数据、传输中数据和所有卷备份的加密。所有卷类型都支持 EBS 加密，包括内置密钥管理基础设施，并且对性能没有任何影响。

**■ 永久存续**
实例就算停止了，但是EBS上的数据也存在。
与EBS相对的，实例本身也有存储空间。但是实例本身的是暂时的，实例删除，那个数据也会被删除。但是EBS上的数据是永久的。
### 6-2 S3
参考链接
[https://aws.amazon.com/cn/s3/?nc2=h_ql_prod_st_s3](https://aws.amazon.com/cn/s3/?nc2=h_ql_prod_st_s3)

> Amazon** Simple Storage Service** (Amazon S3) 是一种对象存储服务，提供行业领先的可扩展性、数据可用性、安全性和性能。

根据大家的描述，感觉很像一个云盘。

**■ 特性**
- 无限量的容量
- 高耐久性 行业领先的性能、可扩展性、可用性和持久性
- 通过网络传输
开发的时候不用想容量够不够，反正是按需收费，你可以随便存储。

**■ 无限量的容量**
S3无需思考容量，只要做一个bucket就可以存储数据。没有上限。但一个文件最高不超过5TB，一个文件一个文件。谁家一个文件5TB哦。
因为无限量，所以不用考虑还剩下多少GB，会不会不足。

**■ 高耐久性 行业领先的性能、可扩展性、可用性和持久性**

on-press的时候还要考虑如果系统文件损坏了怎么办，但是S3不用考虑。因为一旦上传到了S3会把你区域内所有的可用区域进行自动的冗长化。

> 将存储资源向上和向下扩展以满足不断变化的需求，无需前期投资或资源采购周期。Amazon S3 可达到 99.999999999%（11 个 9）的数据持久性，因为它会自动创建和存储跨多个系统的所有 S3 对象的副本。这意味着您的数据在需要时可用，并可抵御故障、错误和威胁。
即使外在物理性毁坏，其他区域也能顶住。而且都不用担心备份问题。

**■ 通过网络传输**
一言以蔽之，通过控制台 `AWS CLI`，SDK`,API`等等都能进行服务。
**■ 安全性**

有3个权限
- ACL
- 桶policy
- IAMpolicy
**ACL**

总之就是可以通过这个 Access Control 进行设定
特定的AWS账户对对象进行 浏览，读取，写入
对任意账户对对象进行 浏览，读取，写入
举个例子，你把一个视频放在了S3设定的是谁都能看，那么别人也能浏览了。
书上有一段代码就是进行了一个上传读取的设置

**桶policy**

上面的服务可以大概的设定谁有权限去浏览设定这个桶，那么桶内的详细设定就需要桶policy。

比如，特定的IP，浏览，特定的文件夹下的内容。静态文件放在S3是非常常见的。【也有教程去教学你把静态文件加载到S3上】

**IAMpolicy**

对IAM用户进行权限设置的同时，也可以设置其他AWS的服务对S3的权限。比如在EC2上有一个对HTML进行读写的Python程序。

boto3就是对接AWS SDK的python包。

```python
import boto3
boto3.resource('s3').Bucket('yamangi').upload_file('test.html','test.html')
```

↑ 这就是把local的*test.html*上传到这个*yamangi*桶里面

但是这样是无法写入的，有可能没有权限。是因为ec2对于s3有可能没有权限。

2种解决办法

**1 IAM权限里加入EC2 2 设定EC2里面的IAM权限。**

不建议第一种，因为第一种需要access key和secret access key 这样就有泄露危险。
下面一段代码来设置一下权限。
增加一个IAM role文件
然后把这个文件设定给EC2

■ 加密

** 传输加密 （传输的时候进行了https加密。）**

形式1 虚拟host → 可以省略区域 http://bucket.s3.amazon.com
形式2 path → option可以加在后面 http://s3-ap-northeast-1.amazonwas.com/bucket

**数据加密**

1. 使用s3的key进行服务器加密
2. KMS（用户自己在AWS设置的key）进行服务器加密
3. 用户自己弄个key进行加密
   
   有个图可以看一下。

反正就是你可以**选择是否加密，也可以选择用何种方式加密。**

> - S3的桶，对象默认为私有
> - 可以用ACL进行权限设置
> - 用桶policy可以进行更加详细的设置
> - 权限资源设置可以用IAM role
> - 可以用https通信
> - 多种方法选择加密

■ S3收费

1. 容量费用
2. request费
3. 传输数据费 跨区才收费

**容量费用区域不同，S3类型不同，收费不同。**

类型有不少。参考一下。

[Amazon S3 存储类](https://aws.amazon.com/cn/s3/storage-classes/)

貌似有个好玩的，看了一下有一个介绍说存储life policy的问题。
刚开始一个文件比如error.log·是保存在EBS里面的后来保存在了S3，由于只是需要偶尔来进行查看所以转移到了低频率的IA这个类型。后来进过了60天还是没有用就进入到了Glacier（冰川的意思），然后经过1年公司自动给删除掉了。通过这样的一个流程可以节省开销，这个过程需要在life policy设置。

> Amazon S3 还提供了在整个数据生命周期内管理数据的功能。设置 **S3 生命周期**策略之后，无需更改您的应用程序，您的数据将自动传输到其他存储类。
> **S3 Lifecycle** **policy**

**request费**

有个收费表，自己去看。

**传输数据费**

区域外才收费，使用网络上传到S3不收费，就算是区域外，如果是CloudFont那么就不计费。
看了一下书上给的图，貌似就是说，只要是进入到S3就是不收费，然后出去out就收费。

### 6-3 其他存储服务

EFS  Amazon Elastic File System 其实就是类似于实例间共享文件的服务
> Amazon Elastic File System (Amazon EFS) 可提供简单、可扩展、完全托管的弹性 NFS 文件系统，以与 AWS 云服务和本地资源配合使用。它可在不中断应用程序的情况下按需扩展到 PB 级，随着添加或删除文件自动扩展或缩减，无需预置和管理容量，可自适应增长
>
> Amazon EFS 旨在为数千个 Amazon EC2 实例提供大规模并行共享访问模式，可让您的应用程序在一致、低延迟的状态下实现高水平的总吞吐量和 IOPS。
Storage Gateway
本地和云上共享

> 混合云存储意味着您的数据可以在本地使用，并在 AWS 云存储服务中持久存储，包括 Amazon S3、Amazon S3 Glacier、Amazon S3 Glacier Deep Archive 和 Amazon EBS。

Snowball
大公司大型数据弄到云的服务，开个大卡车，把你公司的数据都弄到AWS上面

> Snow 系列的各项服务可以提供各种物理设备和容量点，其中一些设备还内置有计算功能。这些服务可帮助用户以物理方式将高达 EB 级的数据传入和传出 AWS。Snow 系列的各项服务由 AWS 拥有和管理，并可与 AWS 的各种安全、监控、存储管理和计算功能集成。

### 第6章練習問題
1 C 2 D 3 C 4 C 5 B 6 D 7 ABCD 8 ABC 9 BD 10 BC
答案
1 C 2 D 3 C 4 C 5 **BC** 6 **C** 7 **BC** 8 **D** 9 **AB** 10 BC

## 第7章 网络

### 7-1 VPC

参考链接

[Amazon Virtual Private Cloud](https://aws.amazon.com/cn/vpc/?nc2=h_ql_prod_nt_avpc)

> 借助 Amazon** Virtual Private Cloud** (Amazon VPC)，您可以在 AWS 云中预置一个逻辑隔离的部分，从而在自己定义的虚拟网络中启动 AWS 资源。您可以完全掌控您的虚拟联网环境，包括选择自己的 IP 地址范围、创建子网以及配置路由表和网络网关。您在 VPC 中可以使用 IPv4 和 IPv6，因此能够轻松安全地访问资源和应用程序。

本质上就是搞一个完全内部的网络
书上给了一个图，区域内有个VPC，然后全部的服务都是在这里面的。

#### ■ 生成VPC

VPC可以在**区域**内横跨**可用区**生成。
在设置VPC的时候IP地址的范围由**CIDR**决定。

#### ■ CIDR（Classless Inter-Domain Routing）
CIDR定义了这样的IP *10.0.0.0/16*，这样的话，你就可以使用10.0.0.0~10.0.255.255大概65536个IP地址 这个是怎么算出来的呢 其实就是2<sup>16</sup>的平方，因为总共有32个，利用CIDR的分类方法就是这样。其实还可以写成subnet的形式？

- 选择**区域**生成VPC
- CIDR定义VPC内的private ip地址

#### ■ 掩网 subnet

VPC的ip范围又subnet分割定义。subnet可以定义**可用区**的范围和IP地址的范围。
IP地址需要在VPC定义的范围内进行，而且同一个VPC内部**不可以有重复的subnet**
上面写了一堆，貌似很难理解，这样分解一下。
就是CIDR定义了Private IP的范围。比如*10.0.0.0/16*这个后面的16就是CIDR定义的，然后subnet把VPC内的ip给分成一块块的。

> - VPC **区域**内定义
> - subnet **可用区**定义
> - CIDR决定以上的范围，也就是后面的那个数字。

#### ■ internet gateway

- VPC连接外面的网络使用gateway
- 一个VPC只有一个gateway
- gateway自身有冗余化加成，无需担心SPOF（**Single Point Of Failure**）
- 想要使用gateway就要进行vpc适配

#### ■ Route Table

subnet的线路由RT设定，RT选择VPC设定。
设定VPC的时候默认生成了一个主RT，但是这个是默认的，如果你需要连接subnet请自定义。
RT就像一条线的2端，决定了哪一个subnet网络连接到互联网。

#### ■ Public subnet 和 Private subnet

公网 私网

**公网**通过gateway还有rt连接外面的互联网
**私网**就是rt没有链接到gateway的。貌似这个gateway很像一个大门啊。大门打开就能看到外面的世界。私网可以连接到内部的其他实例。

> - subnet有分工
> - 能连接到外面的只有Public subnet
> - 虽然不能连接到外面，但是可以在内部保护资源的就是Private subnet

#### ■ 安全组 Security Group

3-4讲过的，安全组就是一个虚拟防火墙。用来管理VPC内部（EC2，RDS，ELB）的各种路线。

书上给了个例子，可以参考，P187。

就是说这个安全组设置了80端口全部ok 22端口有些ok。那么给的一些端口都是无法进来的。

**一个安全组可以设置多个实例**

- 安全组可以指定CIDR的IP
- 还可以指定其他安全组 P188参考图例
- 安全组在VPC设置的时候就有，**默认全部拒绝**，只可以设定许可。类似于白名单。

> 就是个防火墙
> 白名单制度
> 不仅仅可以CIDR还可以安全组ID

#### ■ 网络ACL Access Control List

貌似主要面对的是线路，使用的是黑名单。默认所有线路都可以。

感觉很像交警。默认都是绿灯。

> - 对线路的控制
> - 受送信都ok，只有黑名单。
> - 没啥必要的话默认的就可以。

**下面给了一个启动VPC的例子。**

很多图例，建议看。要点翻译如下。

> 必须要适配VPC和gateway 其实就是开个门
> 必须要给subnet设置一条通往gateway的道路 其实就是指路
> EC2实例在subnet内启动
> EC2这个subnet要是公网(或者是你买个Elastic IP给设置上)

#### ■ Public环境构成

VPC里面用VPN还可以把onpress的环境利用专线上。云上，云下打通的环境就是这个Public环境。
书上给了个图，貌似就是在VPC上开一个门市VPN的门
就是一个虚拟的Private门，通过这个门连接内网。

#### ■ AWS Direct Connect

> AWS Direct Connect 是一种云服务解决方案，让您可以轻松建立从本地通往 AWS 的专用网络连接。您可以利用 AWS Direct Connect 建立私有连接，将 AWS 与数据中心、办公室或主机托管环境相连。在多数情况下，这样可以降低网络成本、提高带宽流量，提供比基于 Internet 连接更为一致的网络体验。

您可以使用 AWS Direct Connect 在您的内部网络与 **Amazon VPC** 之间直接建立一个专用虚拟接口，在您的网络和 VPC 之间提供一个专用的高带宽网络连接。借助多个虚拟接口，您甚至能与多个 **VPC 建立专用连接，同时保持网络隔离性。**

- 云上VPC和云下onpress用VPN可以连接。
- 云上VPC和云下onpress可以用这个ADC专用线连接。

### 7-2 CloudFont

其实就是CDN

参考链接

[https://aws.amazon.com/cn/cloudfront/?nc2=h_ql_prod_nt_cf](https://aws.amazon.com/cn/cloudfront/?nc2=h_ql_prod_nt_cf)

> Amazon CloudFront 是一项快速内容分发网络 (CDN) 服务，可以安全地以低延迟和高传输速度向全球客户分发数据、视频、应用程序和 API，CloudFront 已与 AWS 集成 – 同时包括直接连接到 AWS **全球基础设施的物理位置以及其他 AWS** 服务。CloudFront 可与多种服务无缝集成，包括用于 DDoS 缓解的 AWS Shield、Amazon S3、用作您的应用程序来源的 Elastic Load Balancing 或 Amazon EC2 以及用于在靠近浏览者客户用户的位置运行自定义代码和自定义用户体验的 Lambda@Edge。最后，如果您使用的是 Amazon S3、Amazon EC2 或 Elastic Load Balancing 等 AWS 源服务，那么您也**无需为这些服务与 CloudFront 之间传输的任何数据支付**费用。

#### 特点

- 低延迟 利用**<u>边缘节点</u>**和缓存技术为您服务
- 距离你最近的边缘节点 **全世界的<u>边缘节点</u>都可以用**
- 超级安全

超级安全单拿出来说，CF里面可以存储你的domain证书，这个证书如果你用的是AWS Certificate Manager 追加费用也不用收取。如果联合Shield 可以获得更强的安全，抵挡住DDOs攻击

### 7-3 Route 53

就是个DNS

参考链接

[https://aws.amazon.com/cn/route53/?nc2=h_ql_prod_nt_r53](https://aws.amazon.com/cn/route53/?nc2=h_ql_prod_nt_r53)

> Amazon Route 53 是一种可用性高、可扩展性强的云[域名系统 (DNS)](https://aws.amazon.com/route53/what-is-dns/) Web 服务。它的目的是为开发人员和企业提供一种非常可靠且经济高效的方式，把名称（如 www.example.com）转换为计算机用于互相连接的数字 IP 地址（如 192.0.2.1），从而将最终用户路由到 Internet 应用程序。Amazon Route 53 也与 IPv6 完全兼容。

## 第8章 数据库服务

### 8-1 RDS

#### ■ 概要

RDS就是 

参考链接

[https://aws.amazon.com/cn/rds/?nc2=h_ql_prod_db_rds](https://aws.amazon.com/cn/rds/?nc2=h_ql_prod_db_rds)

> **Amazon Relational Database Service (Amazon RDS)** 让您能够在云中轻松设置、操作和扩展关系数据库。

提供的数据库有

> - Amazon Aurora 自家的
> - PostgreSQL
> - MySQL
> - MariaDB
> - Oracle Database
> - SQL Server

上述可以使用  [AWS Database Migration Service](https://aws.amazon.com/dms/) 轻松将您现有的数据库迁移或复制到 Amazon RDS。你云下现在有的数据可以可以轻松迁移到云上。

#### ■ RDS和EC2区别

EC2里面也可以安装数据库，但是需要你安装操作系统，安装数据库软件，需要你去管理。但是RDS什么都不需要就能帮你处理上面的活儿。

主要的三个

1. 帮你维护
2. 帮你备份
3. 高可用性
就是让你专注于开发本身，而不用维护数据库。
■ 维护
因为是独立于OS之外的，所以你不用去想着维护。AWS帮你维护OS和数据库引擎。
■ 备份
默认7天内自动备份。你也可以选择设定，时间在0-35天内。
如果超过35天，你可以选择手动。
无论手动自动你都可以用快照来查看，如果你用S3那么就是11个9的安全性。
而且你可以使用快照来回复你的实例。
书上给了一个恢复实例选择DB快照的选项，最新的是5分钟之前的。然后你还可以选择其他的时间段。

■ 高可用性

Web层面有ELB和AS这些服务。可以防止SPOF。
RDS可以设置多个AZ配置，使用AZ镜像**自动**复制。就算发生了什么意外，也可以从其他镜像里进行复制，**无需管理**。
书上给了一个图，只要你选择了多个AZ配置，发生意外，就启动standby的镜像使他变成了masterRDS，这样的工作，使用云下服务需要耗费大量的人力物力，但是用RDS可以轻松实现。

> - 配置多个AZ复制多个镜像，提高可用性。
> - 发生问题，自动恢复。

#### ■ Amazon Aurora

参考链接
[https://aws.amazon.com/cn/rds/aurora/?nc2=h_ql_prod_db_aa](https://aws.amazon.com/cn/rds/aurora/?nc2=h_ql_prod_db_aa)

> Amazon Aurora与 MySQL 和 PostgreSQL 兼容的关系数据库，专为云而打造。性能和可用性与商用数据库相当，成本只有其 1/10。
官方介绍的很好很向往，感觉是个很好的数据库。
> Amazon Aurora 是一种与 MySQL 和 PostgreSQL 兼容的[关系数据库](https://aws.amazon.com/relational-database/)，专为云而打造，既具有传统企业数据库的性能和可用性，又具有开源数据库的简单性和成本效益。
>
> Amazon Aurora 的速度最高可以达到标准 [MySQL](https://aws.amazon.com/rds/mysql/what-is-mysql/) 数据库的五倍、标准 PostgreSQL 数据库的三倍。它可以实现商用数据库的安全性、可用性和可靠性，而成本只有商用数据库的 1/10。Amazon Aurora 由 [Amazon Relational Database Service (RDS)](https://aws.amazon.com/rds/) 完全托管，RDS 可以**自动执行各种耗时的管理任务**，例如硬件预置以及数据库设置、修补和备份。
>
> Amazon Aurora 采用一种有容错能力并且可以自我修复的分布式存储系统，这一系统可以把每个数据库实例扩展到最高 64TB。它具备高性能和高可用性，支持最多 15 个低延迟读取副本、时间点恢复、持续备份到 Amazon S3，还支持跨三个可用区 (AZ) 复制。
>
> 您可以访问 [Amazon RDS 管理控制台](https://console.aws.amazon.com/rds/home)，创建第一个 Aurora 数据库实例并开始迁移 MySQL 和 PostgreSQL 数据库。
>
> **上面都是很优美的文字。**

主要优点

- 备份很强悍
- 直接可以连通至standby数据库
- 可以制作15个镜像
- 比RDS MySQL 5倍性能
- 容量可以自动增加

#### ■ DMS

DMS就是 **Database Migration Service**

参考链接

 [https://aws.amazon.com/cn/dms/?nc2=h_ql_prod_db_dbm](https://aws.amazon.com/cn/dms/?nc2=h_ql_prod_db_dbm)

> 以最短的停机时间将您的数据库迁移至 AWS
> 已有超过 200000 个数据库使用 AWS Database Migration Service 完成迁移

AWS Database Migration Service 可帮助您快速并安全地将数据库迁移至 AWS。源数据库在迁移过程中可继续正常运行，从而最大程度地减少依赖该数据库的应用程序的停机时间。AWS Database Migration Service 可以在广泛使用的开源商业数据库之间迁移您的数据。

最重要的就是这个最快影响最小的迁移数据库。

官网介绍的很多，重点就是，可以在数据库之间进行迁移。而且可以最小影响。

### 8-2 DynamoDB

参考链接

[https://aws.amazon.com/cn/dynamodb/?nc2=h_ql_prod_db_ddb](https://aws.amazon.com/cn/dynamodb/?nc2=h_ql_prod_db_ddb)

> Amazon DynamoDB 是一个键/值和文档数据库，可以在任何规模的环境中提供个位数的毫秒级性能。它是一个**完全托管**、多区域多主的持久数据库，具有适用于 Internet 规模的应用程序的内置安全性、备份和恢复和内存缓存。DynamoDB 每天可处理超过 10 万亿个请求，并可支持每秒超过 2000 万个请求的峰值。

完全托管，日语　**フルマネージド型**

用户只要选择 区域 就可以。AZ无需用户担心。选择好之后各个AZ可打通。可以说刚开始就是多个AZ一起镜像。所以可用性特别高。**自动镜像。**

**无限量使用。按量计费。**

NoSQL数据库的特点就是非关系型。非关系利用trancation进行保存，比较适合特别严密的处理。但是对于大量更新和读写的数据并不适合。

NoSQL 水平
RDS 垂直
总结重点

> - 根据数据的特点选择适合的数据库类型
> - RDS适合中等程度的流量，并且关系复杂的数据
> - NoSQL适合大流量，自由度高的数据

### 8-3 其他数据服务

- Amazon Redshift **最受欢迎和速度最快的云数据仓库**

> 任何其他数据仓库都无法像它这样轻松地从所有数据中获得新见解。借助 Redshift，您可以使用标准 SQL 在数据仓库和数据湖中查询 PB 级结构化和半结构化数据。Redshift 使您能够使用开放格式（如 Apache Parquet）轻松地将查询结果保存回 S3 数据湖，以便在其他分析服务（如 Amazon EMR、Amazon Athena 和 Amazon SageMaker）中进一步分析。

- Amazon ElasticCache **与 Redis 或 Memcached 兼容的完全托管型内存中数据存储。支持实时应用程序，提供亚毫秒级延迟。**
就是缓存里储存数据，很快很快，很安全。而且AWS可以完全托管。
- Amazon Neptune 完全托管的 **专为云构建的快速可靠的图形数据库**

> Amazon Neptune 是一项快速、可靠且完全托管的图形数据库服务，可帮助您轻松构建和运行使用高度互连数据集的应用程序。Amazon Neptune 的核心是专门构建的高性能图形数据库引擎，它进行了优化以存储数十亿个关系并将图形查询延迟降低到毫秒级。
> Amazon Neptune 具有**高可用性**，并提供只读副本、时间点恢复、到 Amazon S3 的持续备份以及跨可用区的复制。Neptune 很安全，可支持** HTTPS 加密**客户端连接和静态加密。**Neptune 完全托管**，因此，您再也无需担心数据库管理任务，例如，硬件预置、软件修补、设置、配置或备份。

#### 練習問題

D A B C B

## 第9章　管理服务

管理服务 管理サービス　AWS Management and Governance

> AWS 提供了一组管理工具，让您以编程方式预置、监控和自动执行云环境的所有组件。使用这些工具，您可以在不限制开发速度的情况下保持一致的控制。AWS 提供了四种管理工具，它们协同工作并与 AWS 平台的每个部分（从 Amazon EC2 到 Amazon DynamoDB）集成，以便您轻松控制云基础设施的所有部分。

### 9-1 CloudWatch

### 概要
参考链接
[https://aws.amazon.com/cn/cloudwatch/](https://aws.amazon.com/cn/cloudwatch/)

服务如名字。监控各种云服务的。
前面所有的AWS云服务都可以用这个CloudWatch进行管理。

> Amazon CloudWatch 是一种面向开发运营工程师、开发人员、站点可靠性工程师 (SRE) 和 IT 经理的监控和可观测性服务。CloudWatch 为您提供相关数据和切实见解，以监控应用程序、响应系统范围的性能变化、优化资源利用率，并在统一视图中查看运营状况。CloudWatch 以日志、指标和事件的形式收集监控和运营数据，让您能够在统一查看在 AWS 和本地服务器上运行的资源、应用程序和服务。您可以使用 CloudWatch 检测环境中的异常行为、设置警报、并排显示日志和指标、执行自动化操作、排查问题，以及发现可确保应用程序  
> 正常运行的见解。
书上说这个是标准指标。metrics 標準メトリクス 中译 指标
工作原理
> CloudWatch 以日志、指标和事件的形式收集监控和运营数据，并使用自动化控制面板将其可视化，让您能够统一查看在 AWS 和本地运行的 AWS 资源、应用程序和服务。您可以关联指标和日志，以便更好地了解资源的运行状况和性能。您还可以根据指定的指标值阈值创建警报，或者根据机器学习算法监控异常指标行为。要想快速采取措施，您可以设置自动操作来帮助缩短解决问题的平均时间。例如，触发警报时通知您并自动启动 Auto Scaling。您还可以深入了解并分析指标、日志和轨迹，以便更好地了解如何提高应用程序性能。

控制面板实时监控。只要开始AWS服务，这个CloudWatch就开始服务。

#### 特征

总结特点
> -   标准指标收集，可视化    
> -   自定义各种指标收集，可视化   
> -   收集log    
> -   设置警报   

##### 标准指标的收集和可视化

小TIPS
コンピュータ用語における、ハイパーバイザ (hypervisor) とは、コンピュータの仮想化技術のひとつである仮想機械（バーチャルマシン）を実現するための、制御プログラムである。仮想化モニタや仮想化OSと呼ばれることもある。
operating systems，负责管理其他客体操作系统的执行阶段；这些客体操作系统，共同分享虚拟化后的硬件资源。
标准指标，可以收集到CPU使用情况，硬件和网络状态，I/O。(内存不在收集范围，题目得到的)。因为EC2不包括在内，EC2内有内存和硬盘使用情况。

##### 自定义的收集和可视化
根据CloudWatch PutMeticData API 可以加入。然后在使用不想写了
##### 收集log

CW不仅仅有指标，还有log收集功能。
CloudWatch Logs可以手EC2的log，lambda的log，VPC FLOW log。
和上面的自定义一样，通过CloudWatchエージェント
可以实现

-   EC2自动修复
-   Auto Scaling伸缩 
-   SNS通知 Amazon Simple Notification Service 可以联通Lambda
    

##### 保存期间

**指标** 最后保存在S3
60秒未满 3小时
1分钟 15天
5分钟 标准 63天
1小时 455天
logs 任意选择 可删除

### 9-2 Trusted Advisor

AWS Trusted Advisor 是一个在线工具，可为您提供实时指导以帮助您按照 AWS 最佳实践预置资源。
核心检查和建议
所有 AWS 客户可以使用七项核心 Trusted Advisor 检查以帮助提高 AWS 环境的安全性和性能。检查包括：
安全性
-    S3 存储桶权限
-   安全组 – 不受限制的特定端口
-    IAM 使用
-   根账户上的 MFA
-   EBS 公共快照
-   RDS 公共快照